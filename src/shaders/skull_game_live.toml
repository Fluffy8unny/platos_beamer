name = "skull_game_live"

vertex="""
     #version 330

      in vec2 position;
      in vec2 uv;
      
      out vec2 uv_coords;
      void main() {
          uv_coords = uv;
          gl_Position = vec4(position, 0.0, 1.0);
      }
     """ 

fragment="""
      #version 330  

      in vec2 uv_coords;
      uniform sampler2D live_tex;
      uniform sampler2D clouds;
      uniform float time;

      out vec4 color;
      
      void main(){ 
         float val = texture(live_tex, vec2(uv_coords.x, uv_coords.y)).x;   

         float offset_x = uv_coords.x + time/10.0;
         float offset_y = uv_coords.y +  time/15.0;

         float cloud_offsetet = texture(clouds, vec2(offset_x, offset_y)).y;
         float cloud_val = texture(clouds, uv_coords).y;

         float alpha = 1.0-0.5*( uv_coords.y + 1.0);
         val = val*cloud_val+ 0.5*cloud_val*cloud_offsetet;
         color =  vec4(val,val*0.6,0.6*val,alpha);
      }
      """